(this["webpackJsonpreact-training-36dut"]=this["webpackJsonpreact-training-36dut"]||[]).push([[0],{14:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(3),a=n.n(i),l=n(4),o=n(5),s=n(8),u=n(6),d=n(7),j=n(0),h=function(){var e=Object(c.useState)(0),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=setInterval((function(){r(n+1)}),1e3);return function(){clearInterval(e)}})),Object(j.jsx)("span",{children:" *Life:".concat(n,"s")})},b=r.a.createContext(null),f=function(e){return Object(j.jsx)(j.Fragment,{children:e.tree&&e.tree.map((function(t){return Object(j.jsx)(O,{title:t.title,tree:t.children,id:t.key,checkable:e.checkable},t.key)}))})},O=function(e){return"0"===e.id?Object(j.jsx)(b.Consumer,{children:function(t){return Object(j.jsxs)(j.Fragment,{children:[e.checkable&&Object(j.jsx)("input",{type:"checkbox"}),Object(j.jsxs)("span",{children:[e.title,Object(j.jsx)(h,{}),Object(j.jsx)("button",{id:e.id,onClick:function(){t.createNode(e.id)},children:"\u2795"})]}),Object(j.jsx)("ul",{children:e.tree&&Object(j.jsx)(f,{tree:e.tree,checkable:e.checkable})})]})}}):Object(j.jsx)(b.Consumer,{children:function(t){return Object(j.jsxs)("li",{style:{listStyle:"none"},children:[e.checkable&&Object(j.jsx)("input",{type:"checkbox"}),Object(j.jsx)("button",{id:e.id,onClick:function(){t.deleteNode(e.id)},children:"\u274c"}),Object(j.jsxs)("span",{children:[e.title,Object(j.jsx)("input",{placeholder:"Note"}),Object(j.jsx)(h,{}),Object(j.jsx)("button",{id:e.id,onClick:function(){t.createNode(e.id)},children:"\u2795"})]}),Object(j.jsx)("ul",{children:e.tree&&Object(j.jsx)(f,{tree:e.tree,checkable:e.checkable})})]})}})},p=f;function x(e){var t=[];return function e(n){n.forEach((function(n){t.push(n),n.children&&n.children.length>0&&e(n.children)}))}(e),t.map((function(e){return e.parentId=e.key.split("-").slice(0,-1).join("-")})),t[0].parentId="-1",t}function k(e){var t,n=[],c=e.length,r={};e.forEach((function(e){e.children=[],r[e.key]=e}));for(var i=0;i<c;i++)"-1"!==(t=e[i]).parentId?r[t.parentId].children.push(t):n.push(t);return n}function v(e,t){for(var n=0,c="0",r=0;r<e.length;r++)t===e[r].parentId&&(c=e[r].key.split("-").slice(-1),n<=Number(c)&&(n=Number(c)+1));var i="".concat(t,"-").concat(n),a=Number(n)+1;return e.push({key:"".concat(i),title:"".concat(a,"-"),parentId:t}),e}var y=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={treeData:[{key:"0",title:"1-",children:[]}]},e.createNode=function(t){var n=k(v(x(e.state.treeData),t));e.setState({treeData:n})},e.deleteNode=function(t){var n=k(x(e.state.treeData).filter((function(e){return e.key.slice(0,t.length)!==t})));e.setState({treeData:n})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(b.Provider,{value:{createNode:this.createNode,deleteNode:this.deleteNode},children:Object(j.jsx)(p,{tree:this.state.treeData})})})}}]),n}(r.a.Component),m=document.getElementById("root");a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(y,{})}),m)}},[[14,1,2]]]);
//# sourceMappingURL=main.432b68a9.chunk.js.map